device:
  id: tims


datacapture:
  enabled: false
  configurationsave:
    enabled: false
    frequency: "3600s"
    filename: "./saveddata/configuration-capturedata.json"
  statussave:
    enabled: false
    frequency: "10s"
    filename: "./saveddata/status-capturedata.json"
  starttimestamp: "2025-11-24T20:52:00"
  captureduration: "12h"
    
mqtt:
  monitorreference:
    enabled: true
  monitoruploads:
    enabled: false
  statusuploadhttps:
    enabled: false
    frequency: "10s"
    initialdelay: "10s"
  configurationuploadhttps:
    enabled: false
    frequency: "120s"
    initialdelay: "5s"
  statusuploadmqtt:
    enabled: false
    frequency: "10s"
    initialdelay: "10s"
  configurationuploadmqtt:
    enabled: false
    frequency: "120s"
    initialdelay: "5s"
  broker:
    host: localhost
    port: 1883
  client:
    # Unique identifier for this MQTT client
    client-id: ${random.uuid}

    # MQTT broker connection
    server-uri: tcp://${mqtt.broker.host}:${mqtt.broker.port}

    # Authentication
    user-name: ${device.id}
    password: ExamplePassword

    # Optional connection settings
    clean-session: true
    automatic-reconnect: true
    connection-timeout: "PT30s"
    keep-alive-interval: 60

    will-message:
      topic: home/sonnen/will/${device.id}
      payload: Device ${device.id} is unavailable
      qos: 0
      retained: true

iotservicehttps:
  statusupload:
    enabled: true
    frequency: "10s"
    initialdelay: "10s"
    # must be PLAIN or JSON
    sendtype: PLAIN
  configurationupload:
    enabled: true
    frequency: "120s"
    initialdelay: "5s"
    # must be PLAIN or JSON
    sendtype: PLAIN
  # Authentication
  username: ${device.id}
  # the password must be in base 64, the program will decode it before use
  password: <PasswordInBase64>
    
micronaut:
  http:
    services:
      iotservicehttps:
        # the URL is of the format https://<domain-short-id>.device.iot.<oci region id>.oci.oraclecloud.com
        url: https://<domain-short-id>.device.iot.<oci region id>.oci.oraclecloud.com