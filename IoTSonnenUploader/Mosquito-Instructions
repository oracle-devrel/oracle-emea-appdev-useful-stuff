
On a mac - 
 brew install mosquitto
or if already installed
 brew reinstall mosquitto 
or  
 brew upgrade mosquitto
mosquitto has been installed with a default configuration file.
You can make changes to the configuration by editing:
    /usr/local/etc/mosquitto/mosquitto.conf

To start mosquitto now and restart at login:
  brew services start mosquitto
Or, if you don't want/need a background service you can just run:
  /usr/local/opt/mosquitto/sbin/mosquitto -c /usr/local/etc/mosquitto/mosquitto.conf
Or to run using it's build in defaults as a foreground service
  /usr/local/opt/mosquitto/sbin/mosquitto

  
To setup user(s) and password(s) in mosquitto
Copy the default config file so you can edit it
  cp /usr/local/etc/mosquitto/mosquitto.conf ./mosquitto.conf
  
Edit the conf file, locate the password_file entry, set it to be the pathname to where the password file will be (absolute or relative)
e.g.
password_file=./mosquitto.conf

Create the user and the passwd file
  /usr/local/opt/mosquitto/bin/mosquitto_passwd -c passwordfile username
Create the user in an existing passwd file
  /usr/local/opt/mosquitto/bin/mosquitto_passwd passwordfile username
To set a password for a user (you will be prompted to enter the password)
  /usr/local/opt/mosquitto/bin/mosquitto_passwd passwordfile username
To set a password for a user (the password is on the command line, possible security problem)
  /usr/local/opt/mosquitto/bin/mosquitto_passwd [ -H hash ] -b passwordfile username password
To delete the user from the password file
  /usr/local/opt/mosquitto/bin/mosquitto_passwd -D passwordfile username
  
To run using the local config file
  /usr/local/opt/mosquitto/sbin/mosquitto -c ./mosquitto.conf
